@import "tailwindcss";
@source inline("hidden");
/* To-do: remove unused font weights */

@theme {
    --color-dark-blue: #1eb4ff;
    --color-blue: #0e75c1;
    --color-blue-tint: #BDE4FF;
    --color-white: #f7faee;
    --color-black: #1d3557;
    --color-black-tint: #90939A;
    --color-highlight: #ffe8a1;
    --color-dark-highlight: #665d0d;

    --font-sans: "Merriweather Sans", sans-serif;

    --default-transition-duration: 0.15s;

    --animate-bounce: bounce 0.75s infinite;
    @keyframes bounce {
        0%, 100% {
            transform: translateY(-5%);
            animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
        }
        50% {
            transform: none;
            animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
        }
    }
}

@utility standard-link {
    @apply text-blue dark:text-dark-blue transition relative inline underline;

    &:hover,
    &:focus {
        @apply dark:text-white transition;
    }
}

@utility box-header {
    @apply text-4xl font-black lowercase dark:text-white;
}

html {
    @apply scroll-smooth scroll-p-8;
}

body {
    @apply bg-white p-4 font-sans text-black w-full dark:bg-black dark:text-blue-tint;

    @variant xl {
        @apply p-6;
    }

    @variant 2xl {
        @apply p-8;
    }

    &.index {
        @apply gap-8;

        @variant xl {
            @apply grid;
            grid-template-columns: 30% calc(70% - 2rem);
            grid-template-areas:
                "sidebar main"
                "sidebar footer";
        }

        @variant 2xl {
            grid-template-columns: 25% calc(75% - 2rem);
        }
    }
}

.sidebar-column {
    @apply relative z-20;
    grid-area: sidebar;
}

main {
    grid-area: main;
}

footer {
    grid-area: footer;
}

.logo {
    @apply text-6xl font-black leading-none;

    @variant sm {
        @apply text-7xl;
    }
}

.box {
    @apply border-1 border-black-tint dark:border-blue-tint p-4;

    @variant sm {
        @apply p-6;
    }

    & + .box {
        @apply mt-8;
    }
}

b {
    @apply text-blue dark:text-dark-blue font-black;
}

.icon {
    @apply w-6 h-6;
}

.linkout {
    @apply inline-flex items-center relative !ml-0 pl-2 pr-3 py-1 mx-1 gap-x-1.5 bg-blue-tint border-blue text-black dark:bg-white border-1 rounded lowercase cursor-pointer font-semibold transition;

    @variant sm {
        @apply text-xl;
    }

    &:hover {
        @apply bg-blue text-white transition;

        .icon {
            path {
                @apply fill-white transition;
            }

            &.icon-external path {
                @apply fill-transparent stroke-white transition;
            }
        }
    }

    .icon {
        @apply h-5 transition;

        path {
            @apply fill-black transition;
        }

        &.icon-external path {
            @apply fill-transparent stroke-black transition;
        }
    }
}

.content {
    @apply leading-relaxed text-lg;

    h1, h2, h3, h4, h5, h6 {
        @apply mt-8 mb-2;
    }

    h1, h2, h3 {
        @apply mt-8 font-black lowercase dark:text-white;
    }

    h4, h5, h6 {
        @apply font-bold dark:text-blue-tint;
    }

    h2 {
        @apply pb-1 mt-16 mb-6 text-5xl relative z-1;
    }

    h3 {
        @apply text-4xl;

        &::before {
            @apply text-blue dark:text-dark-blue mr-2;
            content: '>';
        }
    }

    h4 {
        @apply text-3xl;
    }

    h5 {
        @apply text-2xl;
    }

    h6 {
        @apply text-xl;
    }

    a {
        @apply standard-link;
    }

    p {
        @apply mb-4;
    }

    ul {
        @apply list-disc pl-5 mb-4;

        li {
            @apply mb-2;
        }
    }

    strong {
        @apply font-black text-blue dark:text-dark-blue;
    }

    code:not(pre code) {
        @apply inline-block py-0 px-2 mx-1 bg-blue-tint border-blue dark:text-black border-1 rounded;
    }

    pre:has(code) {
        @apply mb-8;
    }

    figure {
        @apply my-6;

        img {
            @apply border-black-tint border-1;
        }

        figcaption {
            @apply text-base text-center mt-4 italic;
        }
    }
}

.skiplink {
    @apply absolute top-4 w-0.5 h-0.5 z-1 overflow-hidden text-2xl z-50;
    left: -10000px;

    &:focus {
        @apply absolute left-4 w-auto h-auto;
    }
}

.arrow {
    @apply border-solid border-blue dark:border-dark-blue border-r-4 border-b-4 inline-block p-1;
}

.right {
  transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
}

.left {
  transform: rotate(135deg);
  -webkit-transform: rotate(135deg);
}

.up {
  transform: rotate(-135deg);
  -webkit-transform: rotate(-135deg);
}

.down {
  transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
}

@media (prefers-reduced-motion: no-preference) {
    .animate-fade-in {
        animation: 0.3s ease-in 1 both fade-in;

        &.delay-1 {
            animation-delay: 0.15s;
        }

        &.delay-2 {
            animation-delay: 0.25s;
        }

        &.delay-3 {
            animation-delay: 0.35s
        }

        &.delay-4 {
            animation-delay: 0.45s
        }
    }

    @keyframes fade-in {
        0% {
            transform: translateY(2rem);
            opacity: 0.01;
        }

        100% {
            transform: translateY(0);
            opacity: 100%;
        }
    }
}